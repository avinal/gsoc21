<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Coding Week 1 Meeting | New Buildsystem and CI/CD
</title>
  <link rel="canonical" href="https://gsoc.avinal.space/posts/report/meeting-2.html">

  <link rel="apple-touch-icon" href="https://gsoc.avinal.space/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://gsoc.avinal.space/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://gsoc.avinal.space/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="https://gsoc.avinal.space/site.webmanifest">
  <meta name="theme-color" content="#333333">

  <link rel="stylesheet" href="https://gsoc.avinal.space/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://gsoc.avinal.space/theme/css/all.css">
  <link rel="stylesheet" href="https://gsoc.avinal.space/theme/css/pygments/manni.min.css">
  <link rel="stylesheet" href="https://gsoc.avinal.space/theme/css/theme.css">
  <link rel="stylesheet" href="https://gsoc.avinal.space/theme/css/space.css">

<link rel="alternate" type="application/atom+xml" title="Full Atom Feed" href="https://gsoc.avinal.space/feeds/all.atom.xml">
<link rel="alternate" type="application/atom+xml" title="Categories Atom Feed"
  href="https://gsoc.avinal.space/feeds/report.atom.xml">
<meta name="description" content="In this third meeting, I demoed the working build system, currently building executables and libraries, a lot of queries were resolved about writing version files and attaching commits and hashes to the build.">


</head>

<body style="font-family:Overpass Mono,monospace;">
  <header class="header star">
    <div id='stars'></div>
    <div id='stars2'></div>
    <div id='stars3'></div>
    <div class="container">
<div class="row">
  <div class="col-sm-12">
    <h1 class="title" style="font-family: ExodarOut;font-weight: lighter;"><a href="https://gsoc.avinal.space/">New Buildsystem and CI/CD</a>
    </h1>
    <p class="text-muted">A GSoC project by Avinal Kumar</p>
    <ul class="list-inline">
      <li class="list-inline-item"><a href="https://avinal.space" target="_blank">about me</a></li>
      <li class="list-inline-item text-muted">|</li>
      <li class="list-inline-item"><a href="https://gsoc.avinal.space/pages/project.html">Project</a></li>
      <li class="list-inline-item text-muted">|</li>
      <li class="list-inline-item"><a href="https://gsoc.avinal.space/pages/timeline.html">Timeline</a></li>
      <li class=" list-inline-item text-muted">|</li>
      <li class="list-inline-item"><a class="fab fa-google" href="https://summerofcode.withgoogle.com/projects/#4535841440923648" target="_blank"></a></li>
      <li class="list-inline-item"><a class="fab fa-github" href="https://github.com/avinal/fossology/tree/avinal/feat/cmake-buildsystem" target="_blank"></a></li>
      <li class="list-inline-item"><a class="fab fa-linkedin" href="https://www.linkedin.com/in/avinal/" target="_blank"></a></li>
      <li class="list-inline-item"><a class="fa fa-envelope" href="mailto:blog@avinal.space" target="_blank"></a></li>
    </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h2 style="font-weight:600;">Coding Week 1 Meeting
</h2>
      <hr>
<article class="article">
  <header>
    <ul class="list-inline">
      <li class="list-inline-item text-muted" title="2021-06-11T23:30:00+05:30">
        <i class="fas fa-clock"></i>
        Fri 11 June 2021
      </li>
      <li class="list-inline-item">
        <i class="fas fa-folder-open"></i>
        <a href="https://gsoc.avinal.space/category/report.html">report</a>
      </li>
      <li class="list-inline-item">
        <i class="fas fa-tag"></i>
        <a href="https://gsoc.avinal.space/tag/gsoc.html">#gsoc</a>,         <a href="https://gsoc.avinal.space/tag/fossology.html">#FOSSology</a>      </li>
    </ul>
  </header>
  <div class="content">
    <div class="alert alert-info" role="alert">In this third meeting, I demoed the working build system, currently building executables and libraries, a lot of queries were resolved about writing version files and attaching commits and hashes to the build. </div><div class="section" id="attendees">
<h2>Attendees</h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/mcjaeger">Michael C. Jaeger</a></li>
<li><a class="reference external" href="https://github.com/shaheemazmalmmd">Shaheem Azmal M MD</a></li>
<li><a class="reference external" href="https://github.com/GMishx">Gaurav Mishra</a></li>
<li><a class="reference external" href="https://github.com/ag4ums">Anupam Ghosh</a></li>
<li><a class="reference external" href="https://github.com/hastagAB">Ayush Bhardwaj</a></li>
<li><a class="reference external" href="https://github.com/avinal">Avinal Kumar</a></li>
</ul>
</div>
<div class="section" id="week-1-progress">
<h2>Week 1 Progress</h2>
<div class="alert alert-success" role="alert">
<p>This week was mainly focused on analyzing the previous build system and framing a skeleton for the new build system.
<ul><li>Created the build configuration <a href="https://github.com/avinal/FOSSology/wiki/agents-spec#agents-configuration-list">analysis table</a>.</li>
<li>Completed the basic skeleton.</li>
<li>Completed the CMake configuration for libraries</li>
<li>To test the current progress, follow the instructions <a href="https://github.com/avinal/FOSSology/wiki#test-the-new-system-only-gcc-with-make-and-ninja-tested-for-now">here</a></li>
<li>Test on <a href="https://gitpod.io/#https://github.com/avinal/FOSSology/tree/avinal/feat/cmake-buildsystem">GitPod</a> right inside your browser. </li></ul></p>
</div>
<div class="embed-responsive embed-responsive-16by9">
    <iframe class="embed-responsive-item" src="/images/first-build-gitpod.webm" allowfullscreen></iframe>
</div>
<br></div>
<div class="section" id="discussions">
<h2>Discussions</h2>
<ul class="simple">
<li><strong>What are the flags needed for C and C++?</strong><ul>
<li>The <code>-g</code> flag enables debug.</li>
<li>The <code>-O2</code> flag is used for optimizing.</li>
<li>In FOSSology these two flags are used together by default for all build purposes because it is desired to have an optimized binary but some level of debugging information is also desired.</li>
</ul>
</li>
<li><strong>The Makefiles have some compile-time preprocessor macro definitions that need to be passed to each build.</strong> The Makefiles have all the path values passed as <code>'&quot;..value..&quot;'</code> format <em>(double quote inside single quotes)</em>, however the commands produced by CMake have <code>\&quot;..value..\&quot;</code> format <em>(escaped double quotes)</em>. Are they the same or it needs to be changed?<ul>
<li>Currently, there is nothing to determine if they work the same or not, but if the compiler would not have accepted them then, it would have thrown an error. As long it is working these should be fine, but will need to be checked in the final build.</li>
</ul>
</li>
<li><strong>Are all libraries in FOSSology static?</strong><ul>
<li>No, by default no library is static. The format <code>lib&lt;library-name&gt;.a</code> is confusing but no need to worry about it for now, if this is working fine then no problem.</li>
<li>In general, this format denotes a static library.</li>
</ul>
</li>
<li><strong>How to add the version and commit information to the builds?</strong><ul>
<li>I have gone through <a class="reference external" href="https://cmake.org/pipermail/cmake/2018-October/068383.html">this thread</a> on CMake's official mailing list. And they have suggested a lot of options, but unable to decide which option to use. Gaurav said he will see into this thread and for now, I should try writing a shell script and test if that works.</li>
<li>Same can be tested for the version too.</li>
</ul>
</li>
<li><strong>What is</strong> <code>_squareVisitor.h.pre</code> <strong>used for?</strong><ul>
<li>They are used to generate source code at build time.</li>
</ul>
</li>
<li><strong>Is there any inheritance structure in the build system?</strong> <em>(Michael)</em><ul>
<li>For now, I am writing separate modules for the default operations needed in most configurations. The final structure will be decided in the final build.</li>
</ul>
</li>
<li><strong>Where are all the binaries produced?</strong> <em>(Gaurav)</em><ul>
<li>They are located in the build folder with the same directory structure as the original project.</li>
<li>While installing the same will be used and none of the source folders are ever disturbed.</li>
</ul>
</li>
<li><strong>Are all flags taken from the Makefiles itself?</strong> <em>(Anupam)</em><ul>
<li>Yes and No, there are some flags that CMake uses by default, they can be altered by changing the value for <code>CMAKE_C_FLAGS</code> and <code>CMAKE_CXX_FLAGS</code>. One can also append their flags. Since not all compilation requires all the flags, I have taken the default one into cache variables, and others are appended while configuring for a particular project.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="conclusion-and-further-plans">
<h2>Conclusion and Further Plans</h2>
<ul class="simple">
<li>Try the <code>monkbulk</code> in monk and <code>makefile.sa</code> in nomos.</li>
<li>Try adding the version and commit hash info.</li>
<li>Implement writing version files for each build.</li>
<li>Add proper comments in the <code>CMakeLists.txt</code> files.</li>
</ul>
</div>

    <hr>
    <p align=center>
      This Blog is licensed under <a href="http://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1"
        target="_blank" rel="license noopener noreferrer">Attribution-NonCommercial 4.0 International<img
          style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
          src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img
          style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
          src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img
          style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
          src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1">
      </a>
    </p>
  </div>
</article>
<div id="comment-form">
  <div class="alert alert-info" role="alert">
    Feel free to leave a feedback or questions !
  </div>
  <form action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfL9T8WBRm-Ac2uyu74lJXSYOqAuF6lLIUAulRArCsuiI1ZRQ/formResponse" target="response" method="POST" id="valid-form">
    <div class="form-row align-items-center">
      <div class="form-group col-md-5">
        <label class="sr-only" for="person-name">Name</label>
        <input type="text" class="form-control form-control-sm" id="person-name" placeholder="Your Name (Optional)"
          aria-describedby="nameHelp" name="entry.982725972">
        <input type="text" id="page-link" name="entry.1641222305" hidden>
        <small id="nameHelp" class="form-text text-muted">You may put your GitHub Username.</small>
      </div>
      <div class="form-group col-md-7">
        <label class="sr-only" for="email-address">Email address</label>
        <input type="email" class="form-control form-control-sm" id="email-address" aria-describedby="emailHelp"
          placeholder="Your Email Address (Optional)" name="entry.1652853191">
        <small id="emailHelp" class="form-text text-muted">I'll never share your email with anyone
          else.</small>
      </div>
    </div>
    <div class="form-group">
      <label class="sr-only" for="comment-section">Your Message</label>
      <textarea class="form-control form-control-sm" id="comment-section" rows="3"
        placeholder="Please enter your message or feedback. (Required)" aria-describedby="emailHelp"
        name="entry.1062656232" required></textarea>
      <div class="invalid-feedback">
        Please Enter something !
      </div>
      <small id="textHelp" class="form-text text-muted">Enter upto 200 characters.</small>
    </div>
    <button class="btn btn-outline-info" type="submit">Send</button>
  </form>
  <iframe name="response" hidden></iframe>
</div>
<div class="alert alert-info" role="alert" id="comment-message" style="display: none;">
  <h4 class="alert-heading">Thanks You 🥳</h4>
  <p>Thanks a lot for reading this blog and sending me a feedback. I hope you liked it. I will get back to you
    soon if you have added an email.</p>
</div>
<script>
  (function () {
    'use strict';
    window.addEventListener('load', function () {
      var form = document.getElementById('valid-form');
      form.addEventListener('submit', function (event) {
        document.getElementById('page-link').value = window.location.href;
        document.getElementById('comment-form').style.display = 'none';
        document.getElementById('comment-message').style.display = '';
      }, false);
    }, false);
  })();
</script>
    </div>
  </div>

  <footer class="footer star">
    <div id='stars'></div>
    <div id='stars2'></div>
    <div id='stars3'></div>
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
    <li class="list-inline-item"><a
        href="https://gsoc.avinal.space/archives.html">Archives</a></li>
    <li class="list-inline-item"><a
        href="https://gsoc.avinal.space/categories.html">Categories</a></li>
    <li class="list-inline-item"><a href="https://gsoc.avinal.space/tags.html">Tags</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    <a href="https://github.com/avinal" target="_blank">
      <img src="/images/gsoc-fossology.gif" class="img-fluid" style="max-width: 40%;">
    </a>
  </p>
</div>    </div>
  </footer>

</body>

</html>